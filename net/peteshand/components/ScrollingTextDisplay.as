package circul8.components{	import flash.display.MovieClip;	import flash.display.Sprite;	import flash.events.Event;		import flash.text.TextField;	import flash.text.TextFieldType;    import flash.text.TextFormat;    import flash.text.TextFieldAutoSize;	import flash.text.TextFormatAlign;		public class ScrollingTextDisplay extends MovieClip	{		// display		private var textDisplay:Sprite;		private var textDisplay1:TextField;		private var textDisplay2:TextField;				private var textMask:Sprite;				private var textFormat:TextFormat;		private var updateDelayCount:int;				private var textColour:uint = 0x000000;				public function ScrollingTextDisplay(Width:int=100, Height:int=24, _textColour:uint=0x000000):void		{			textColour = _textColour;						textMask = new Sprite();			textMask.graphics.beginFill(0x00FF00);			textMask.graphics.drawRect(0.5,0.5,Width-1,Height-1);			textMask.graphics.endFill();			addChild(textMask);						textDisplay = new Sprite();			addChild(textDisplay);						textDisplay1 = new TextField();			textDisplay1.multiline = false;			textDisplay1.x = 0;			textDisplay1.y = 3;			textDisplay1.height = Height;			textDisplay1.autoSize = TextFieldAutoSize.LEFT;			textDisplay.addChild(textDisplay1);						textDisplay2 = new TextField();			textDisplay2.multiline = false;			textDisplay2.x = textDisplay1.x + textDisplay2.width + 10;			textDisplay2.y = 3;			textDisplay2.height = Height;			textDisplay2.autoSize = TextFieldAutoSize.LEFT;			textDisplay.addChild(textDisplay2);						textDisplay.cacheAsBitmap = true;			textDisplay.mask = textMask;						width = Width-1;						setFormat(textColour);		}						override public function set width(value:Number):void		{			textMask.width = value-1;		}		override public function get width():Number		{			return textMask.width;		}				public function setFormat(tc:uint):void		{			textFormat = new TextFormat();			textFormat.align = "left";			textFormat.blockIndent = 0;			textFormat.bold = false;			textFormat.bullet = false;			textFormat.color = tc;			textFormat.font = "Lucida Grande";			textFormat.indent = 0;			textFormat.italic = false;			textFormat.kerning = false;			textFormat.leading = 0;			textFormat.leftMargin = 3;			textFormat.letterSpacing = 0;			textFormat.rightMargin = 3;						textDisplay1.setTextFormat(textFormat);			textDisplay1.embedFonts;						textDisplay2.setTextFormat(textFormat);			textDisplay2.embedFonts;		}		public function set value(v:String):void		{			textDisplay1.text = v;			textDisplay2.text = v;						setFormat(textColour);						textDisplay.x = 0;			textDisplay1.x = 0;			textDisplay2.x = textDisplay1.x + textDisplay1.width + 25;			if (textDisplay2.x < width) textDisplay2.x = width + 25;						if (v == "") removeEventListener(Event.ENTER_FRAME, Move);			else {				if (textDisplay1.width > width) addEventListener(Event.ENTER_FRAME, Move);				else removeEventListener(Event.ENTER_FRAME, Move);			}		}		public function get value():String		{			return textDisplay1.text;		}		private function Move(event:Event):void		{			textDisplay.x -= 0.5;			if (textDisplay.x < 0 - textDisplay1.width - 10){				textDisplay.x = 0;			}		}	}}