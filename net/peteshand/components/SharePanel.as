package circul8.components{	import flash.display.MovieClip;		import flash.events.Event;	import flash.events.MouseEvent;	import flash.net.navigateToURL;	import flash.net.URLRequest;		import com.gskinner.motion.GTween;	import gs.easing.*;		public class SharePanel extends MovieClip	{		public var url:String = ""; // SITE URL		public var wtitle:String = "peruidol"; // SITE TITLE		private var Showing:Boolean = false;		private var gTween:GTween;				private var locX:int = 0;				public function SharePanel():void		{			btn_Facebook.addEventListener(MouseEvent.CLICK, onClick);			btn_Twitter.addEventListener(MouseEvent.CLICK, onClick);			btn_Delicious.addEventListener(MouseEvent.CLICK, onClick);			btn_Digg.addEventListener(MouseEvent.CLICK, onClick);			btn_StumbleUpon.addEventListener(MouseEvent.CLICK, onClick);			btn_MySpace.addEventListener(MouseEvent.CLICK, onClick);			btn_Reddit.addEventListener(MouseEvent.CLICK, onClick);			btn_Technorati.addEventListener(MouseEvent.CLICK, onClick);			btn_Google.addEventListener(MouseEvent.CLICK, onClick);			btn_YahooMyWeb.addEventListener(MouseEvent.CLICK, onClick);						btn_close.addEventListener(MouseEvent.CLICK, ClickClose);						addEventListener(Event.ADDED_TO_STAGE, OnAddToStage);		}		private function OnAddToStage(event:Event):void		{			var Width:int = stage.stageWidth;			if (Width > 1300) Width = 1300;			locX = Width - 280 + ((1300-Width)/2);		}		private function onClick(e:MouseEvent)		{			url = MovieClip(root).p8_domain;			trace(site, url);			var site:String = e.target.name.substr(4);			if(site == "Delicious"){site = "Del.icio.us";};			navigateToURL(new URLRequest("javascript:addto('"+site+"','"+url+"','"+wtitle +"');"), "_self");			HideThis();		}		public function ShowThis():void		{			Showing = true;			this.visible = true;			stage.addEventListener(Event.RESIZE, OnResize);			if (gTween != null) gTween.removeEventListener(Event.COMPLETE, OnComplete);			gTween = new GTween(this, 0.5, {alpha:1}, {ease:Strong.easeOut, delay:0});		}		public function HideThis():void		{			Showing = false;			stage.removeEventListener(Event.RESIZE, OnResize);			gTween = new GTween(this, 0.5, {alpha:0}, {ease:Strong.easeIn, delay:0});			gTween.addEventListener(Event.COMPLETE, OnComplete);					}		private function OnComplete(event:Event):void		{			this.visible = Showing;		}		public function ToggleVisible():void		{			if (Showing) HideThis();			else ShowThis();		}		private function ClickClose(event:MouseEvent):void		{			ToggleVisible();		}		private function OnResize(event:Event):void		{			var Width:int = stage.stageWidth;			if (Width > 1300) Width = 1300;			locX = Width - 280 + ((1300-Width)/2);			this.x = locX;		}		public function ShareOnFacebook():void		{			navigateToURL(new URLRequest("javascript:addto('Facebook','"+url+"','"+wtitle +"');"), "_self");		}	}}