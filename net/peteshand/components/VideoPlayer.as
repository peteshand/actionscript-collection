package circul8.components{	import flash.display.MovieClip;	import flash.display.DisplayObject;	import flash.display.Sprite;	import flash.events.Event;	import flash.events.MouseEvent;	import flash.display.Loader;	import flash.net.URLRequest;	import flash.events.IOErrorEvent;	import circul8.utils.Dimensions;		import com.gskinner.motion.GTween;	import gs.easing.*;		public class VideoPlayer extends MovieClip	{		private var Width:Number = 300;		private var Height:Number = 200;		private var swfURL:String = "";				public var VideoURL:String = "";		public var StillURL:String = "";		public var Title:String = "";		public var Description:String = "";				private var moduleCommunication:DisplayObject;;				private var moduleLoader:Loader;				public function VideoPlayer(w:Number=300, h:Number=200):void		{			width = w;			height = h;						graphics.beginFill(0x000000);			graphics.drawRect(0,0,width,height);			graphics.endFill();								}		override public function set width(v:Number):void		{			Width = v;		}		override public function get width():Number		{			return Width;		}		override public function set height(v:Number):void		{			Height = v;		}		override public function get height():Number		{			return Height;		}		public function Load(_swfURL:String=null, _VideoURL:String="", _StillURL:String="", _Title:String="", _Description:String=""):void		{									VideoURL = _VideoURL; 			StillURL = _StillURL;			Title = _Title;			Description = _Description;					swfURL = _swfURL;			loadSwf(swfURL);		}		private function loadSwf(url:String):void		{			trace("url = " + url);						moduleLoader = new Loader();			var moduleRequest:URLRequest = new URLRequest(url);			moduleLoader.load(moduleRequest);			moduleLoader.contentLoaderInfo.addEventListener(Event.COMPLETE, loadComplete);			moduleLoader.contentLoaderInfo.addEventListener(IOErrorEvent.IO_ERROR, loadError);									/** sets variables once module is loaded */			function loadComplete(event:Event):void 			{				moduleCommunication = moduleLoader.getChildAt(0);				MovieClip(moduleCommunication).Width = Width;				MovieClip(moduleCommunication).Height = Height;				MovieClip(moduleCommunication).VideoURL = VideoURL; 				MovieClip(moduleCommunication).StillURL = StillURL;				MovieClip(moduleCommunication).Title = Title;				MovieClip(moduleCommunication).Description = Description;				addChild(moduleLoader);																moduleLoaded();			}			function loadError(evt:IOErrorEvent):void			{				trace("error loading " + url);			}					}		private function moduleLoaded():void		{			trace("SwfLoaded");			dispatchEvent(new Event("SwfLoaded"));		}		public function Pause():void		{			if (moduleCommunication != null) MovieClip(moduleCommunication).Pause();		}		public function Play():void		{			if (moduleCommunication != null) MovieClip(moduleCommunication).Play();		}	}}